(this["webpackJsonpmini-unsplash"]=this["webpackJsonpmini-unsplash"]||[]).push([[0],{30:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},91:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n(0),a=n.n(c),i=n(25),s=n.n(i),o=(n(30),n.p,n(12)),u=n(97),l=n(98),d=n(6),h=n(17),j=n.n(h),b=n(26),p=n(42),f=n.n(p).a.create(),v="5ja_A-ozjl0L6VNG85ea0rDlZWHk2CGMlhsRC8b0TDM",m="CLIENT-ID ".concat(v);f.defaults.baseURL="https://api.unsplash.com/",f.defaults.headers.post["Content-Type"]="application/jon",f.defaults.headers.common.Authorization=m;var g=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/photos?client_id=".concat(v));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/search/photos?query=".concat(t,"&client_id=").concat(v));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.e)(),t=c.useState(null),n=Object(o.a)(t,2),r=(n[0],n[1],c.useState(!1)),a=Object(o.a)(r,2),i=(a[0],a[1],c.useState("")),s=Object(o.a)(i,2),h=s[0],j=s[1],b=Object(u.a)("photos",g),p=Object(l.a)((function(e){return x(e)})),f=e.location.pathname;c.useEffect((function(){"/"===f||p.data||p.isLoading||p.mutate(f.substring(1))}),[f,p]);return{resource:c.useMemo((function(){var e;return"/"===f?b.data:null===(e=p.data)||void 0===e?void 0:e.results}),[p,f,b]),isFetching:c.useMemo((function(){return"/"===f?b.isFetching:p.isLoading}),[p,f,b]),onSearch:function(t){t.preventDefault(),e.push("/".concat(h))},onChange:function(e){j(e.target.value)},searchValue:h}},_=function(e){var t=e.children,n=e.maxWidth,c={maxWidth:null!==n&&void 0!==n?n:"980px",width:"100%"};return Object(r.jsx)("div",{style:c,children:t})},w=n(95),y=(n(78),function(){var e=O(),t=e.searchValue,n=e.onChange,c=e.onSearch;return Object(r.jsxs)("form",{className:"searchInput__root",onSubmit:c,children:[Object(r.jsx)("div",{role:"button",className:"searchInput__button",onClick:c,children:Object(r.jsx)(w.a,{className:"searchInput__icon"})}),Object(r.jsx)("div",{className:"searchInput__input-container",children:Object(r.jsx)("input",{type:"search",autoComplete:"off",className:"searchInput__input",placeholder:"Search for photo",value:t,onChange:n})})]})}),N=(n(79),function(){var e=Object(d.e)().location.pathname;return Object(r.jsx)("div",{className:"hero__centralize hero__root",children:Object(r.jsxs)(_,{children:["/"===e&&Object(r.jsx)(y,{}),"/"!==e&&Object(r.jsxs)("h1",{children:['Search Results for "',e.substring(1),'"']})]})})}),C=(n(80),function(e){var t,n,c,a=e.isFetching,i=e.data;e.display;return Object(r.jsxs)(r.Fragment,{children:[a&&Object(r.jsx)("div",{className:"item",children:Object(r.jsx)("div",{className:"content",children:Object(r.jsx)("div",{style:{width:"100%",height:"22em",backgroundColor:"#eee"}})})}),!a&&Object(r.jsx)("div",{className:"item",children:Object(r.jsxs)("div",{className:"content",children:[Object(r.jsx)("img",{src:null===i||void 0===i||null===(t=i.urls)||void 0===t?void 0:t.regular,alt:"thumbnail",style:{width:"100%"}}),Object(r.jsx)("div",{className:"imageThumbnail__outer",children:Object(r.jsxs)("div",{className:"imageThumbnail__overlay",children:[Object(r.jsx)("p",{className:"imageThumbnail__primary-text",children:null===i||void 0===i||null===(n=i.user)||void 0===n?void 0:n.name}),Object(r.jsx)("p",{className:"imageThumbnail__secondary-text",children:null===i||void 0===i||null===(c=i.user)||void 0===c?void 0:c.location})]})})]})})]})});n(81);var S=function(e){var t=e.data,n=e.isFetching,a=c.useState(!1),i=Object(o.a)(a,2),s=i[0],u=i[1],l=c.useRef(null),d=function(){var e=Object(c.useState)({width:void 0,height:void 0}),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){function e(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}(),h=!n&&Array.isArray(t)?t:Array(6).fill({});return c.useLayoutEffect((function(){function e(e){var t=l.current,n=parseInt(window.getComputedStyle(t).getPropertyValue("grid-auto-rows")),r=parseInt(window.getComputedStyle(t).getPropertyValue("grid-row-gap")),c=Math.ceil((e.querySelector(".content").getBoundingClientRect().height+r)/(n+r));e.style.gridRowEnd="span "+c}setTimeout((function(){!function(){for(var t=l.current.getElementsByClassName("item"),n=0;n<t.length;n++)e(t[n])}(),u(!0)}),500)}),[l,n,u,d]),Object(r.jsx)("div",{className:"imageGrid__centralize imageGrid__root",children:Object(r.jsxs)(_,{maxWidth:"900px",children:[Object(r.jsx)("div",{className:"grid",ref:l,children:h.map((function(e,t){return Object(r.jsx)(C,{data:e,isFetching:n,display:s},t.toString())}))}),0===h.length&&Object(r.jsx)("div",{style:{width:"100%"},children:Object(r.jsx)("h1",{style:{fontWeight:200,textAlign:"center"},children:"No results found"})})]})})},F=n(96),I=n(19),L=n(18);n(82),n(44),n(29),n(46),n(91),n(45);var T=new F.a;function E(){var e=O(),t=e.resource,n=e.isFetching;return Object(r.jsxs)("div",{children:[Object(r.jsx)(N,{}),Object(r.jsx)(S,{data:t,isFetching:n})]})}var k=function(){return Object(r.jsx)(I.a,{client:T,children:Object(r.jsxs)(L.a,{children:[Object(r.jsx)(d.a,{exact:!0,path:"/",children:Object(r.jsx)(E,{})}),Object(r.jsx)(d.a,{exact:!0,path:"/:search",children:Object(r.jsx)(E,{})})]})})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,99)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};s.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(k,{})}),document.getElementById("root")),z()}},[[93,1,2]]]);
//# sourceMappingURL=main.8c3b52bf.chunk.js.map